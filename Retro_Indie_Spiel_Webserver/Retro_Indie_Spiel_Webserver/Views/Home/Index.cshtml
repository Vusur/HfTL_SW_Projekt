@{
    ViewBag.Title = "Pumpkin Nightmare";

}
<style>
    .fackeln {
        background-size: cover;
        width: 58px;
        height: 100px;
        margin: 10px;
    }

    .kuerbis {
        background-image: url('/Pictures/Kürbis_OhneGesicht.png');
        background-size: cover;
        width: 50px;
        height: 50px;
        margin: 10px;
    }

    .screenshots {
        height: 250px;
        width: 100%;
    }
</style>

<div><label class="kuerbis"></label><h1 style="display:inline;">Pumpkin Nightmare</h1><label class="kuerbis"></label></div>

<a href="~/Pictures/Bücherregal_rundlich mit Büchern.png" download="Pumpkin_Nightmare">
    <img src="~/Pictures/Kronleuchter_Bild3.png" style="width:200px;margin-top:50px;margin-bottom: 20px;" title="Pumpkin Nightmare Download" alt="Kronleuchter" /><br />
</a>
<a class="textBox" href="~/Pictures/Bücherregal_rundlich mit Büchern.png" download="Pumpkin_Nightmare" style="margin-top:25px;padding: 10px;color: #337ab7;">
    Download
</a>
<br/>
<table id="highscores" align="center">
    <thead>
        <tr>#</tr>
        <tr>Name</tr>
        <tr>Punkte</tr>
    </thead>
    <tbody>

    </tbody>
</table>

<table align="center" style="border:none;margin-top:100px;">
    <tr>
        <td>
            <img alt="Spielfigur" src="~/Pictures/Bewegung2.png" style="width:200px;margin-right: -40px;margin-left: -40px;" />
        </td>
        <td class="textBox">
            Das kostenlose Spiel Pumpkin Nightmare wurde in einem Projekt an
            der HfTL Leipzig im Fach Softwareengineering von Frau Wieland entwickelt.
            Das Spielt enstand zu der Helloween Zeit, da enstand auch der Name und der
            Spielinhalt: Ein kleiner Junge liebt Kürbise und seine Mutter bereitet ihm
            eine Kürbissuppe zu, was ihm Albträume schafft, da er das gegessen hat was er liebt.
        </td>
    </tr>
</table>

<a onclick="$('#carouselContainer').show();" download="Pumpkin_Nightmare">
    <img src="~/Pictures/Fenster_MitVorhang (2).png" style="width:200px;margin-top:50px;margin-bottom: 20px;" title="Für Screenshots anklicken" alt="Gruseliges Fenster" /><br />
</a>
<div id="carouselContainer" style="height:200px;background:black;margin-left: auto;margin-right: auto;display:none;">
    <div id="carousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carousel" data-slide-to="0" class="active"></li>
            <li data-target="#carousel" data-slide-to="1"></li>
            <li data-target="#carousel" data-slide-to="2"></li>
        </ol>

        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img src="~/Pictures/Bücherregal_rundlich mit Büchern.png" class="screenshots" alt="">
                <div class="carousel-caption">
                    <h3>Bild1</h3>
                    <p>...</p>
                </div>
            </div>
            <div class="item">
                <img src="~/Pictures/Gemälde.png" class="screenshots" alt="...">
                <div class="carousel-caption">
                    <h3>...</h3>
                    <p>...</p>
                </div>
            </div>
            <div class="item">
                <img src="~/Pictures/Kürbis_kocht_Suppe_Bild1_dunkel (2).png" class="screenshots" alt="...">
                <div class="carousel-caption">
                    <h3>...</h3>
                    <p>...</p>
                </div>
            </div>
        </div>
        <a class="left carousel-control" href="#carousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
<script>

    function kuerbisOhneGesicht(ele) {
        $(ele).css('background-image', 'url("/Pictures/Kürbis_OhneGesicht.png")')
    }


    function kuerbisMitGesicht(ele) {
        $(ele).css('background-image', 'url("/Pictures/Kürbis_MitGesicht.png")')
    }

    $(function () {
        $('.kuerbis').mouseover(function () {
            kuerbisMitGesicht(this);
        }).mouseout(function () {
            kuerbisOhneGesicht(this);
        });

        $.ajax({
            type: "GET",
            url: "/Highscores/List",
            success: function (result) {
                $.each(result, function (i, item) {
                    if (i === 10) {
                        return;
                    }
                    $("#highscores > tbody:last-child").append("<tr><td>" + result[i].Position + "</td><td>" + result[i].Name + "</td><td>" + result[i].Score + "</td></tr>");
                });
            }
        }).error(function (req, textStatus, errorThrown) {
            alert("Highscores konnten nicht geladen werden. Error: " + req.status + " " + errorThrown);
        });
    });


    var urlPrefix = 'url("/Pictures/Wandfackeln';
    var urlSuffix = '.png")';
    var number = 1;
    var oldNumber = 3;
    var min = 1;
    var max = 4;
    var fackeln = $('.fackeln');
    var url = urlPrefix + number + urlSuffix;
    fackeln.css("background-image", url);
    fackelRunner();
    function fackelRunner() {
        setTimeout(function () {
            number = parseInt((Math.random() * (max - min)) + min);
            if (number === oldNumber) {
                number = parseInt((Math.random() * (max - min)) + min);
            }
            fackelRunner();
            url = urlPrefix + number + urlSuffix;
            fackeln.css("background-image", url);
            oldNumber = number;
            number++;
        }, 15000);
    }
</script>